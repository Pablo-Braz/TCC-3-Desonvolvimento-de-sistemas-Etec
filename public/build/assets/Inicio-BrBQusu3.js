import{r as n,K as q,j as e,$ as r,S as V}from"./set-USP3l9q2.js";import{G as P}from"./GerenciamentoLayout-BASI72Rp.js";function L(){var m,x,h,j,N,u,v;const d=n.useRef(null),{props:t}=q(),i=(m=t.auth)==null?void 0:m.user,l=t.comercio,s=t.dashboard??{},b=Number(((x=s==null?void 0:s.vendasHoje)==null?void 0:x.quantidade)??0),g=String(((h=s==null?void 0:s.vendasHoje)==null?void 0:h.total)??"0,00"),p=Number((s==null?void 0:s.estoqueBaixo)??0),c=Array.isArray(s==null?void 0:s.ultimasVendas)?s.ultimasVendas:[],y=Number(((j=s==null?void 0:s.fiado)==null?void 0:j.clientes)??0),w=String(((N=s==null?void 0:s.fiado)==null?void 0:N.total)??"0,00"),[E,o]=n.useState(typeof navigator<"u"?navigator.onLine:!0);return n.useEffect(()=>{const a=()=>o(!0),f=()=>o(!1);return window.addEventListener("online",a),window.addEventListener("offline",f),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",f)}},[]),n.useEffect(()=>{var a;(a=d.current)==null||a.focus()},[]),e.jsxs(P,{title:"InÃ­cio",children:[e.jsx("h2",{className:"visually-hidden",ref:d,tabIndex:-1,children:"InÃ­cio"}),e.jsx("div",{className:"card welcome-hero shadow-sm ",children:e.jsx("div",{className:"card-body d-flex flex-column flex-lg-row align-items-lg-center gap-3",children:e.jsxs("div",{className:"flex-grow-1",children:[e.jsxs("h3",{className:"h3 m-0 elemento-home-usuario",children:["Bem-vindo(a), ",(i==null?void 0:i.NOME)??"UsuÃ¡rio"," ðŸ‘‹"]}),e.jsx("p",{className:"text-secondary mb-0 elemento-home-dica",children:"Navegue entre Clientes, Produtos, Vendas e Estoque usando a barra lateral."})]})})}),!E&&e.jsx("div",{className:"alert alert-warning mt-3",role:"status","aria-live":"polite",children:"Sem conexÃ£o com a internet no momento. Algumas funÃ§Ãµes podem nÃ£o funcionar."}),e.jsxs("div",{className:"card mt-3 shadow-sm elemento-home-2",children:[e.jsx("div",{className:"card-header bg-body elemento-home-comousar",children:e.jsx("strong",{children:"Como usar"})}),e.jsx("div",{className:"card-body elemento-home-lista",children:e.jsxs("ol",{className:"mb-0",children:[e.jsxs("li",{children:["Para registrar uma venda, clique em ",e.jsx("strong",{children:"Vendas"})," na barra lateral."]}),e.jsxs("li",{children:["Para cadastrar ou atualizar um produto, clique em ",e.jsx("strong",{children:"Produtos"}),"."]}),e.jsxs("li",{children:["Para ver ou cadastrar clientes, clique em ",e.jsx("strong",{children:"Clientes"}),"."]})]})})]}),e.jsxs("div",{className:"card mt-3 shadow-sm elemento-home-resumo",children:[e.jsx("div",{className:"card-header bg-body d-flex justify-content-between align-items-center",id:"resumo-hoje",children:e.jsx("strong",{children:"Resumo de hoje"})}),e.jsx("div",{className:"card-body elemento-home-resumo-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-lg-6 col-12 elemento-home-vendas",children:e.jsxs("div",{className:"rounded-3 bg-body-tertiary h-100 border p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-secondary",children:"Vendas"}),e.jsx("div",{className:"display-6 fw-semibold mb-0",children:b}),e.jsxs("div",{className:"text-secondary",children:["Total: R$ ",g]})]}),e.jsx("i",{className:"bi bi-cash-coin fs-2 text-secondary","aria-hidden":"true"})]}),e.jsx("div",{className:"mt-3 text-end",children:e.jsx(r,{href:"/gerenciamento/vendas",className:"btn btn-primary",children:"Ir para Vendas"})})]})}),e.jsx("div",{className:"col-lg-6 col-12 elemento-home-estoque",children:e.jsxs("div",{className:"rounded-3 bg-body-tertiary h-100 border p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-secondary",children:"Estoque"}),e.jsx("div",{className:"display-6 fw-semibold mb-0",children:p}),e.jsx("div",{className:"text-secondary",children:"Abaixo do mÃ­nimo"})]}),e.jsx("i",{className:"bi bi-exclamation-triangle fs-2 text-warning","aria-hidden":"true"})]}),e.jsx("div",{className:"mt-3 text-end",children:e.jsx("button",{type:"button",className:"btn btn-outline-warning",onClick:()=>{V.post("/gerenciamento/produtos/filtros",{page:1,q:void 0,categoriaId:void 0,sort:"nome",dir:"asc",perPage:10,onlyLow:!0},{preserveScroll:!0,replace:!0,preserveState:!0})},"aria-label":"Ver produtos com baixo estoque",children:"Ver produtos com baixo estoque"})})]})})]})})]}),e.jsxs("div",{className:"row g-3 mt-3 elemento-home-listas",children:[e.jsx("div",{className:"col-lg-6 col-12 elemento-home-ultimasvendas",children:e.jsxs("div",{className:"card h-100 shadow-sm","aria-labelledby":"ultimas-vendas",children:[e.jsx("div",{className:"card-header bg-body d-flex justify-content-between align-items-center",id:"ultimas-vendas",children:e.jsx("strong",{children:"Ãšltimas vendas"})}),e.jsxs("div",{className:"card-body",children:[c.length===0?e.jsx("p",{className:"text-secondary mb-0",children:"Nenhuma venda registrada recentemente."}):e.jsx("ul",{className:"list-group list-group-flush",children:c.map(a=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center px-0",children:[e.jsxs("div",{className:"me-2",children:[e.jsx("div",{className:"fw-semibold",children:a.cliente}),e.jsxs("small",{className:"text-secondary",children:[a.data," Â· ",a.status]})]}),e.jsx("div",{className:"fw-semibold text-nowrap",children:a.total})]},a.id))}),e.jsx("div",{className:"mt-auto pt-2 text-end",children:e.jsx(r,{href:"/gerenciamento/vendas",className:"btn btn-outline-primary",children:"Ver todas"})})]})]})}),e.jsx("div",{className:"col-lg-6 col-12 elemento-home-fiado",children:e.jsxs("div",{className:"card h-100 shadow-sm","aria-labelledby":"fiado-aberto",children:[e.jsx("div",{className:"card-header bg-body d-flex justify-content-between align-items-center",id:"fiado-aberto",children:e.jsx("strong",{children:"Fiado em aberto"})}),e.jsxs("div",{className:"card-body d-flex flex-column",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-secondary",children:"Clientes devendo"}),e.jsx("div",{className:"display-6 fw-semibold mb-0",children:y}),e.jsxs("div",{className:"text-secondary",children:["Total em aberto: R$ ",w]})]}),e.jsx("i",{className:"bi bi-wallet2 fs-2 text-secondary","aria-hidden":"true"})]}),e.jsx("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center",children:e.jsxs("div",{className:"w-100 text-start",children:[e.jsx("div",{className:"mb-2 text-secondary small",children:"Mantenha o cadastro dos clientes atualizado para evitar ."}),e.jsxs("div",{className:"fw-semibold text-secondary",children:["Cliente com maior dÃ©bito:",e.jsx("br",{}),e.jsx("span",{className:"text-light",children:((u=s==null?void 0:s.fiado)==null?void 0:u.maiorNome)??"â€”"})," - R$ ",e.jsx("span",{className:"text-light",children:((v=s==null?void 0:s.fiado)==null?void 0:v.maiorValor)??"â€”"})]})]})}),e.jsx("div",{className:"pt-2 text-end",children:e.jsx(r,{href:"/gerenciamento/clientes",className:"btn btn-outline-primary",children:"Gerenciar fiados"})})]})]})})]}),e.jsxs("div",{className:"card mt-3 shadow-sm elemento-home-mercearia",children:[e.jsxs("div",{className:"card-header bg-primary text-white d-flex align-items-center gap-2",children:[e.jsx("i",{className:"bi bi-shop fs-3 me-2","aria-hidden":"true"}),e.jsx("strong",{className:"fs-5",children:"Mercearia"})]}),e.jsxs("div",{className:"card-body p-4 bg-body-tertiary",children:[e.jsxs("div",{className:"row g-3 align-items-center",children:[e.jsxs("div",{className:"col-md-6 col-12",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"fw-semibold text-secondary",children:"Nome:"}),e.jsx("span",{className:"ms-2 fs-5 text-light",children:(l==null?void 0:l.nome)??"â€”"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"fw-semibold text-secondary",children:"CNPJ:"}),e.jsx("span",{className:"ms-2",children:(l==null?void 0:l.cnpj)??"â€”"})]})]}),e.jsxs("div",{className:"col-md-6 col-12",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"fw-semibold text-secondary",children:"ResponsÃ¡vel:"}),e.jsx("span",{className:"ms-2",children:(i==null?void 0:i.NOME)??"â€”"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"fw-semibold text-secondary",children:"Perfil:"}),e.jsx("span",{className:"ms-2",children:(i==null?void 0:i.PERFIL)??"â€”"})]})]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"d-flex flex-wrap gap-3 align-items-center justify-content-between",children:[e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("i",{className:"bi bi-clock-history text-primary fs-5","aria-hidden":"true"}),e.jsx("span",{className:"text-secondary",children:"Data/hora atual:"}),e.jsx("span",{className:"ms-1",children:new Date().toLocaleString("pt-BR")})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("i",{className:"bi bi-box-seam text-primary fs-5","aria-hidden":"true"}),e.jsx("span",{className:"text-secondary",children:"Produtos cadastrados:"}),e.jsx("span",{className:"ms-1",children:(s==null?void 0:s.produtosCadastrados)??"â€”"})]})]})]})]})]})}export{L as default};
