class a{constructor(){document.addEventListener("DOMContentLoaded",()=>{this.setupCNPJ()})}setupCNPJ(){document.querySelectorAll('input[name="COMERCIO_CNPJ"], #COMERCIO_CNPJ').forEach(t=>{t.setAttribute("maxlength","18"),t.setAttribute("placeholder","00.000.000/0000-00"),t.addEventListener("input",e=>this.format(e)),t.addEventListener("keydown",e=>this.onlyNumbers(e)),t.value&&this.format({target:t})}),console.log("âœ… CNPJ Formatter ativo")}format(l){const t=l.target,e=t.value.replace(/\D/g,"");let r=e;e.length>2&&(r=e.slice(0,2)+"."+e.slice(2)),e.length>5&&(r=e.slice(0,2)+"."+e.slice(2,5)+"."+e.slice(5)),e.length>8&&(r=e.slice(0,2)+"."+e.slice(2,5)+"."+e.slice(5,8)+"/"+e.slice(8)),e.length>12&&(r=e.slice(0,2)+"."+e.slice(2,5)+"."+e.slice(5,8)+"/"+e.slice(8,12)+"-"+e.slice(12,14)),t.value=r,e.length===14&&this.isValid(e)?t.style.borderColor="#28a745":e.length>0?t.style.borderColor=e.length===14?"#dc3545":"#007bff":t.style.borderColor=""}onlyNumbers(l){["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","Home","End"].includes(l.key)||l.ctrlKey&&["a","c","v","x"].includes(l.key.toLowerCase())||/\d/.test(l.key)||l.preventDefault()}isValid(l){if(/^(\d)\1{13}$/.test(l))return!1;let t=0,e=[5,4,3,2,9,8,7,6,5,4,3,2];for(let s=0;s<12;s++)t+=l[s]*e[s];let r=t%11<2?0:11-t%11;if(l[12]!=r)return!1;t=0,e=[6,5,4,3,2,9,8,7,6,5,4,3,2];for(let s=0;s<13;s++)t+=l[s]*e[s];let i=t%11<2?0:11-t%11;return l[13]==i}}export{a as C};
